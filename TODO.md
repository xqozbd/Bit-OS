# BitOS TODO

## Completed
- [x] Grab info from CMOS such as time and date.
- [x] Set up IDT and exception handlers (avoid triple-faults, enable debug output).
- [x] Add serial logger (COM1) for early-boot diagnostics.
- [x] Implement physical memory map parsing (Limine memmap request).
- [x] Build a simple physical frame allocator (bitmap).
- [x] Add paging + higher-half mapping.
- [x] Memory protection: user/kernel page separation.
- [x] Create a minimal kernel heap allocator.
- [x] Add a framebuffer status banner (BitOS version/build info).
- [x] Add keyboard input (PS/2 or HID later).
- [x] Interrupt-driven PS/2 keyboard (IRQ1) with key repeat.
- [x] Add a minimal console with built-in commands (help, ls, cd, pwd, time, mem, echo, ver, clear).
- [x] SMP bring-up (Limine MP).
- [x] PIT timer + uptime ticks.
- [x] APIC timer calibration and switch from PIT to APIC timer for scheduling.
- [x] Page fault handler with fault reason logging.
- [x] Page fault recovery + kill userspace task.
- [x] Kernel panic backtrace (stack walk).
- [x] Limine module loading as an initramfs.
- [x] Basic VFS layer and in-memory FS for `ls/cd/cat`.
- [x] Line editing (backspace, left/right).
- [x] Heap free list (kfree).
- [x] Heap reallocation support (krealloc).
- [x] Syscall ABI stub + kernel-mode ELF loader.
- [x] Add in a cursor.
- [x] SMP bring-up and per-CPU data.
- [x] PCNet PCI probe + MAC read (VirtualBox card).
- [x] PCI enumeration: BAR sizing, MSI support, device driver registry.
- [x] PCNet TX/RX ring buffers + basic ARP.
- [x] RTC sync to system time.
- [x] Power management: P-states (CPU frequency scaling).
- [x] Preemptive scheduler with per-CPU run queues (safe-point preemption).
- [x] Proper sleep/timer queue (sleep ms).
- [x] Basic kernel thread API (create/join/exit).
- [x] Userspace syscall table + minimal libc stubs.
- [x] ELF loader: relocations + stack setup with argv/envp.
- [x] Initramfs unpacker (tar or cpio) into VFS.
- [x] VFS: path normalization + mount points.
- [x] AHCI / SATA / NVMe driver support (or virtio-blk for virtualization).
- [x] Userspace `fork/exec/exit` support.
- [x] Ring-3 entry path (iret/sysret + user stack setup).
- [x] Driver registry (init order + status).
- [x] Interrupt masking / IRQ priority routing.
- [x] Console output buffering + scrollback.
- [x] PS/2 mouse packet sync + rate limiting improvements.
- [x] Ring buffer logging + persistent crash dump to RAM.
- [x] Shell history (up/down).
- [x] Shell tab completion.
- [x] Power management: suspend/resume (S3/S4).
- [x] Basic network stack (Ethernet + ARP + IPv4 + ICMP ping).
- [x] Power management: C-states (idle power saving).
- [x] ACPI AML interpreter (minimal, enough for _PSS/_PCT).
- [x] Framebuffer cursor sprite (separate from text caret).
- [x] Mouse cursor in framebuffer graphics mode.
- [x] High-resolution timers (APIC / TSC calibration).
- [x] Interrupt-driven preemption (timer ISR context switch).
- [x] Power management: thermal zones + trip points.
- [x] Process/task model (PID, state, kernel stack, page table).
- [x] Userspace memory allocator (brk/sbrk syscall).
- [x] Keyboard line discipline (canonical mode, Ctrl+C, Ctrl+V).
- [x] ACPI parsing stub (device discovery).
- [x] Configurable boot params (Limine cmdline).
- [x] Proper shutdown/restart (ACPI + fallback reset).
- [x] File descriptor table per-process + basic `open/read/write/close`.
- [x] User address space layout + page-table clone helpers.
- [x] Copy-on-write (COW) for fork with refcounted frames.
- [x] Signals: basic delivery and default handlers.
- [x] Block device layer abstraction + buffered IO.
- [x] Partition table parsing (MBR/GPT).
- [x] Disk driver for VMware (ATA PIO or AHCI).
- [x] VFS: mount root from block device.
- [x] Persistent root filesystem support (ext2/fat32 driver).
- [x] ext2: read-only driver (superblock, group desc, inode, dir traversal).
- [x] ext2: block/inode allocator + bitmap updates.
- [x] ext2: file create/write/truncate (direct + single-indirect blocks).
- [x] ext2: unlink/rename + directory entry updates.
- [x] `/dev` and pseudo-filesystem (`/proc`, `/sys`) skeleton.
- [x] UDP sockets + socket syscalls (TCP stub).
- [x] TCP sockets (connect/listen/accept + retransmit).
- [x] Simple init process + busybox-like shell spawn.
- [x] Per-CPU run queue load balancing.
- [x] Crash isolation: kernel survives user task faults.
- [x] Userland `mmap` / `munmap` support.
- [x] SLAB/SLUB kernel object allocator.
- [x] Kernel SLAB object caches for vfs/inodes.
- [x] `/proc` and `/sys` pseudo-filesystem entries for processes and devices.
- [x] Kernel timer wheel or hierarchical timer for efficient timers.
- [x] TCP stack with three-way handshake and retransmission.
- [x] DHCP client to auto-configure IP addresses.
- [x] DNS resolver stub in userspace.
- [x] USB xHCI controller init + port status.
- [x] USB device manager (keyboard, mouse, storage support).
- [x] Terminal VT100 emulation + colors.
- [x] ext2: fsck-lite / consistency checks at mount.
- [x] Writeback cache + dirty block flush for block devices.
- [x] FAT32 write support (create/write/truncate).
- [x] Buffer cache + writeback for block devices.
- [x] Basic firewall/netfilter rules.
- [x] IPv6: packet parsing + basic header validation.
- [x] IPv6: ICMPv6 echo request/reply (ping6).
- [x] IPv6: neighbor discovery (NS/NA) + link-local addressing.
- [x] IPv6: route table (static) + forwarding off by default.
- [x] IPv6: UDP over IPv6 (basic send/recv).
- [x] VFS write API + open flags (O_CREAT/O_TRUNC/O_APPEND).
- [x] FS journal + recovery for root FS.
- [x] Userland `ps`, `top`, `ls`, `mount`, `umount`, `dd` utilities.
- [x] Simple init system with service units/dependencies.
- [x] Root filesystem journaling.
- [x] Namespaces: PID isolation (ps and /proc view).
- [x] Namespaces: mount isolation.
- [x] Namespaces: network isolation.
- [x] Resource limits / cgroup-like system.
- [x] Stack canaries / basic ASLR support.
- [x] NX bit enforcement for kernel/user separation.
- [x] Busybox-style userland command suite.
- [x] Crash dump persistence to reserved RAM or disk.
- [x] Userland ELF loader enhancements (dynamic linking).
- [x] Userspace library loading and symbol resolution.
- [x] `/tmp` temporary filesystem support.
- [x] Swap file / virtual memory paging.
- [x] Memory-mapped file support.
- [x] Kernel heap fragmentation reduction / compaction.
- [x] Kernel logging levels (info/warn/error/debug).
- [x] Sysctl-like tunable kernel parameters.
- [x] ACPI power states: suspend/resume (S3/S4).
- [x] ACPI thermal zone monitoring.
- [x] Bootloader command line parsing and config file support.
- [x] Userspace cron/task scheduling.
- [x] RTC alarms + timers for wakeups.

## Next
- [ ] Multi-language keyboard layouts.
- [ ] Keyboard key repeat rate configuration.
- [ ] Userland shell scripting support.
- [ ] Environment variable support in shell.
- [ ] Pipes and redirection in shell (`|`, `>`, `<`) with pipe syscalls.
- [ ] Job control (foreground/background, `Ctrl+Z`, `fg/bg`).
- [ ] TTY/PTY support + virtual consoles (multiple VTs).
- [ ] File permission enforcement (`chmod/chown`).
- [ ] User accounts (UID/GID) + login.
- [ ] `umask` support.
- [ ] Sticky bit, SUID, SGID support.
- [ ] File system caching / read-ahead.
- [ ] Directory caching.
- [ ] Inode reference counting.
- [ ] Hard link support.
- [ ] Symbolic link support.
- [ ] Device node permissions.
- [ ] Mounted device auto-detection.
- [ ] Logging subsystem: persistent ring buffer + dump on panic.
- [ ] Debug console over serial.
- [ ] Kernel memory leak detection.
- [ ] Kernel assertions / debug macros.
- [ ] IRQ load balancing across CPUs.
- [ ] Scheduler latency reduction.
- [ ] Sleep / usleep / nanosleep system calls.
- [ ] Userland process priority / nice values.
- [ ] Per-task CPU affinity.
- [ ] Kernel timer APIs for userspace.
- [ ] Timezone support.
- [ ] Userspace monotonic clocks.
- [ ] `/etc` configuration filesystem support.
- [ ] Syscall error codes standardized (POSIX-like).
- [ ] select/poll for I/O multiplexing.
- [ ] Kernel module / driver load/unload support.
- [ ] Hot-plug detection for PCI/USB devices.
- [ ] Basic security: deny access to kernel memory from userspace.
- [ ] Simple random number generator (RNG) for kernel/userspace.
- [ ] `/dev/random` and `/dev/urandom` devices.
- [ ] Floating point context save/restore on task switch.
- [ ] SSE/AVX context support.
- [ ] Memory leak sanitizer for userspace processes.
- [ ] Kernel profiling counters.
- [ ] Kernel stack overflow detection.
- [ ] ELF core dump generation for crashed processes.
- [ ] Simple disk quota support.
- [ ] File locking support.
- [ ] Pipes/IPC (kernel-level pipe buffers).
- [ ] UNIX domain sockets.
- [ ] Thread-local storage (TLS) support.
- [ ] Atomic operations / spinlocks for SMP.
- [ ] Condition variables / futexes for synchronization.
- [ ] Semaphore support in kernel and userspace.
- [ ] Userland library: `libc` extensions (string, math, stdio).
- [ ] CPU feature detection (CPUID-based).
- [ ] Terminal line discipline: raw / cooked mode.
- [ ] Kernel memory sanitizer hooks.
- [ ] Kernel statistics (/proc/stat-like reporting).
- [ ] Userspace logging API.
- [ ] Userspace shell completion for filenames/commands.
- [ ] Userspace history expansion (`!` command).
- [ ] Basic scripting language in shell (variables, loops).
- [ ] Virtual keyboard input support (HID).
- [ ] Basic graphics API for userspace (pixel set, draw line/rect).
- [ ] Double buffering for framebuffer graphics.
- [ ] Color palette / 24-bit color support.
- [ ] Font rendering in graphics mode.
- [ ] Kernel video mode setting (VBE/UEFI framebuffer).
- [ ] Audio subsystem skeleton (sound output).
- [ ] Timer-based audio playback.
- [ ] Kernel threads for device polling.
- [ ] Userspace process isolation with page tables.
- [ ] Swap-backed anonymous memory.
- [ ] Userland dynamic memory debugging.
- [ ] Kernel-level mutexes.
- [ ] Multi-CPU preemption testing.
- [ ] Kernel crash recovery routines.
- [ ] Basic sandboxing of user programs.
- [ ] Desktop stack: `/dev/fb0` mmap + IOCTLs (size/pitch/format).
- [ ] Desktop stack: `/dev/input` event stream (keyboard/mouse).
- [ ] Desktop stack: userspace window server/compositor (basic).
- [ ] Desktop stack: window protocol + shared memory buffers.
- [ ] Desktop stack: font rendering + text drawing in userspace.
- [ ] Desktop stack: basic UI toolkit (buttons/menus/panels).
- [ ] Desktop stack: desktop shell (taskbar + launcher).
